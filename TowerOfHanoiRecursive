import sys
import time
import matplotlib.pyplot as plt

# Increase recursion limit
sys.setrecursionlimit(10000)

# Recursive Tower of Hanoi
def hanoi_recursive(n, source, dest, aux):
    if n <= 1:
        return
    hanoi_recursive(n - 1, source, aux, dest)
    hanoi_recursive(n - 1, aux, dest, source)

# Iterative Tower of Hanoi
def hanoi_iterative(n):
    total_moves = (1 << n) - 1  # 2^n - 1
    for _ in range(total_moves):
        pass  # simulate moves only

# Measure execution time
n_values = list(range(1, 23)) 
recursive_times = []
iterative_times = []

for n in n_values:
    start = time.time()
    hanoi_recursive(n, 'A', 'C', 'B')
    recursive_times.append(time.time() - start)

    start = time.time()
    hanoi_iterative(n)
    iterative_times.append(time.time() - start)

# Plot graph
plt.figure(figsize=(10, 6))
plt.plot(n_values, recursive_times, marker='o', label='Recursive Tower of Hanoi')
plt.plot(n_values, iterative_times, marker='x', label='Iterative Tower of Hanoi')

plt.xlabel("Input Size (Number of Disks n)")
plt.ylabel("Execution Time (seconds)")
plt.title("Tower of Hanoi: Input Size vs Running Time")
plt.legend()
plt.grid(True)
plt.yscale('linear')
plt.show()
